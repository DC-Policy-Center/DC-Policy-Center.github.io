
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style type="text/css">
    .highcharts-menu-item{
      font-family: Lato, sans serif;
      font-size: 16px;
      color: #333;
    }
  </style>
  <title>Availability and Affordability of Units</title>
</head>
<body>
  <script src="highcharts.js"></script>
<script src="exporting.js"></script>
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<div style="position:relative;">
    <a style="display: block;" href="http://www.dcpolicycenter.org" >
        <img style="position:absolute; top: 0; right: 0; z-index: 1;" width="100" src="dcpc-15pct.png" />
    </a>
    <div id="container" style="height: 400px"></div>
</div>
<script type="text/javascript">//<![CDATA[

    Highcharts.setOptions({
                  lang: {
        thousandsSep: ','
    },
          colors: ['#0c2c84', '#225ea8', '#1d91c0', '#41b6c4', '#7fcdbb', '#c7e9b4', '#ffffcc'],

    });

Highcharts.chart('container', {


    chart: {
        type: 'bar'
    },

    title: {
        text: 'Availability and Affordability of Units'
    },

    credits: {
        text: 'Source: Housing database compiled by the D.C. Policy Center',
        href: 'javascript:window.open("http://www.dcpolicycenter.org", "_blank")',
        style: {
            fontSize: '12pt' // you can style it!
        },
        position: {
            align: 'left',
            x: 15
        },

    },

    xAxis: {
        categories: ['Single Person Household', '2-Person Households', '3-Person Households', '4-Person Households', '5-Person Households']
    },


legend:{
     verticalAlign: 'bottom',
     borderRadius: 1,
     floating: false,
        labelFormatter: function() {
            var words = this.name.split(/[\s]+/);
            var numWordsPerLine = 3;
            var str = [];

            for (var word in words) {
                if (word > 0 && word % numWordsPerLine == 0)
                    str.push('<br>');

                 str.push(words[word]);
            }

            return str.join(' ');
        }
    },


    yAxis: {
        allowDecimals: false,
        min: 0,
        ceiling: 305000,
        title: {
            text: 'Number of units'
        }
    },


    tooltip: {
        formatter: function () {
            return this.x + '<br/>' + '<b>' +
                this.series.name + ':</b> ' + Highcharts.numberFormat(this.y,0) + '<br/>';
        }
    },



    plotOptions: {
        bar: {
        formatter: function () { return
                Highcharts.numberFormat(this.y,0);
        },
            stacking: 'normal',

        }
    },

series: [{
       name: '200% of AMI or More',
       data: [54577, 32057, 19167, 11393, 6798],
       legendIndex:6
   }, {
       name: '150% to 200% of AMI',
       data: [45641, 38754, 25572, 15509, 6381],
       legendIndex:5
   },{
       name: '120% to 150% of AMI',
       data: [38145, 30656, 23845, 16685, 6140],
       legendIndex:4
   },{
       name: '80% to 120% of AMI',
       data: [68074, 50921, 40675, 26942, 7101],
       legendIndex:3
   }, {
       name: '50% to 80% of AMI',
       data: [65079, 41034, 26627, 18445, 5563],
       legendIndex:2
   },{
       name: '30% to 50% of AMI',
       data: [23766, 19958, 10196, 6199, 0],
       legendIndex:1
   }, {
       name: 'Under 30% of AMI',
       data: [8219, 4880, 3247, 0, 0],
       legendIndex:0
   }

   ]


});

//]]>

</script>

  <script>
  // tell the embed parent frame the height of the content
  if (window.parent && window.parent.parent){
    window.parent.parent.postMessage(["resultsFrame", {
      height: document.body.getBoundingClientRect().height,
      slug: "None"
    }], "*")
  }
</script>

</body>

</html>

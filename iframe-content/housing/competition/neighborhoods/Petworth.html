
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <head>
  <script type="text/javascript" src="d3.v3.js"></script>
  <script type="text/javascript" src="d3-waffle.js"></script>
  <link rel="stylesheet" href="neighborhood-css.css">
  </head>

  <title>Competition for Middle-Income Homes from Singles and Doubles </title>
<h1>Petworth</h1>
<script type='text/javascript'>
window.onload=function(){
var data = [
  { "name": "Competition from middle-income singles and doubles", "value": 165},
  { "name": "Competition from middle-income doubles", "value": 1899},
  { "name": "Competition from higher-income doubles and singles", "value": 2061}
];

/* to color elements we use the class name ( slugify(name) ) */
var domain = data.map(function(d){ return slugify(d.name); })
var range = ["#d6e0e4", "#7d8f85", "#8fc82c"]
var palette = d3.scale.ordinal().domain(domain).range(range);

var chart3 = d3waffle()
                .rows(7)
                .scale(1/20)
                .icon("ï€•")
                .colorscale(palette)
                .appearancetimes(function(d, i){ return i*10 + Math.random()*250;})
                .height(120);

d3.select("#chart")
  .datum(data)
  .call(chart3);
}

</script>

</head>

<body>
  <div id="chart"></div>

  <script>
  // tell the embed parent frame the height of the content
  if (window.parent && window.parent.parent){
    window.parent.parent.postMessage(["resultsFrame", {
      height: document.body.getBoundingClientRect().height,
      slug: "LxhgLqo0"
    }], "*")
  }
</script>
</body>
</html>
